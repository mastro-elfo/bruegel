(this.webpackJsonpbruegel=this.webpackJsonpbruegel||[]).push([[0],{139:function(e,t,n){e.exports=n(161)},144:function(e,t,n){},161:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(9),i=n.n(o),c=(n(144),n(101)),l=n(102),u=n(124),s=n(126),m=n(193),d=n(194),f=n(195),g=n(196),E=n(32),h=n(106),b=n.n(h),v=n(63),p=Object(v.a)(E.a)({flexGrow:1}),O=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={},a}return Object(l.a)(n,[{key:"componentDidCatch",value:function(e,t){console.error("Console Error",e,t,this.props)}},{key:"render",value:function(){var e=this.state.error;return e?r.a.createElement(a.Fragment,null,r.a.createElement(m.a,null,r.a.createElement(d.a,null,r.a.createElement(p,{variant:"h6"},"An error occurred"),r.a.createElement(f.a,{color:"inherit",title:"Refresh",onClick:window.location.reload},r.a.createElement(b.a,null)))),r.a.createElement(d.a,null),r.a.createElement(g.a,null,r.a.createElement(E.a,{variant:"h3",gutterBottom:!0},e.message),r.a.createElement(E.a,{component:"ul"},e.stack.split("\n").map((function(e,t){return r.a.createElement(E.a,{key:t,component:"li",variant:"body2",gutterBottom:!0},e)}))))):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),n}(a.Component),j=n(43),k=n(197),w=n(107),y=n.n(w),S=n(108),_=n.n(S),C=Object(j.a)({palette:{primary:y.a,secondary:_.a}});function x(e){var t=e.children;return r.a.createElement(k.a,{theme:C},t)}var P=n(44),B=n(111),I=n.n(B),T=Object(a.createRef)(),F=function(e){var t=e.children,n=function(e){return function(){return T.current.closeSnackbar(e)}};return r.a.createElement(P.SnackbarProvider,{ref:T,maxSnack:5,anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:5e3,action:function(e){return r.a.createElement(f.a,{color:"inherit",title:"Dismiss",onClick:n(e)},r.a.createElement(I.a,null))}},t)},M=n(42),z=n(38),W=n(125),G=n(55),R=n(12),D=n(112),J=n(97),N=Object(J.a)({print:{"@media screen":{display:"none"}},noPrint:{"@media print":{display:"none"}}});function V(e){var t=e.children,n=N();return r.a.createElement("div",{className:n.print},t)}function A(e){var t=e.children,n=N();return r.a.createElement("div",{className:n.noPrint},t)}var L=n(47),q=n(198),H=n(110),X=n(199),Y=n(113),K=n.n(Y),U=Object(J.a)((function(e){return{Fab:{position:"fixed",bottom:e.spacing(1),right:e.spacing(1),zIndex:e.zIndex.modal}}}));function $(e){var t=e.threshold,n=void 0===t?100:t,a=Object(L.a)(e,["threshold"]),o=U(),i=Object(q.a)({disableHysteresis:!0,threshold:n});return r.a.createElement(H.a,{in:i},r.a.createElement(X.a,Object.assign({color:"secondary",size:"small",onClick:function(e){window.scrollTo({top:0,left:0,behavior:"smooth"})},className:o.Fab,title:"Move to Top"},a),r.a.createElement(K.a,null)))}function Q(e){var t=e.content,n=void 0===t?null:t,o=e.drawer,i=void 0===o?null:o,c=e.header,l=void 0===c?null:c,u=e.print,s=void 0===u?null:u,m=e.topFab,d=void 0===m||m;return r.a.createElement(a.Fragment,null,r.a.createElement(A,null,d&&r.a.createElement($,null),!!i&&i,!!l&&l,!!n&&n),r.a.createElement(V,null,!!s&&s))}var Z=n(219),ee=n(201),te=n(116),ne=n.n(te),ae=n(221),re=n(115),oe=n.n(re);function ie(e){var t=e.answers,n=e.guesses,o=Object(a.useState)(!1),i=Object(R.a)(o,2),c=i[0],l=i[1],u=t.filter((function(e){var t=e.id;return!n.includes(t)}));return Object(a.useEffect)((function(){(n.includes(c)||!c&&u.length>0)&&l(u[Math.floor(Math.random()*u.length)].meaning)}),[n,c,u]),r.a.createElement(ae.a,{arrow:!0,title:r.a.createElement(a.Fragment,null,r.a.createElement(E.a,null,"Ti do un suggerimento: "),r.a.createElement(E.a,{variant:"body2"},'"',c,'"'))},r.a.createElement(f.a,{color:"primary"},r.a.createElement(oe.a,null)))}function ce(e){var t=e.onOpen,n=e.answers,o=e.guesses,i=Object(a.useState)(!1),c=Object(R.a)(i,2),l=c[0],u=c[1];return Object(a.useEffect)((function(){if(o.length>0){u(!0);var e=setTimeout(u,2e3,!1);return function(){return clearTimeout(e)}}}),[o.length]),r.a.createElement(a.Fragment,null,r.a.createElement(m.a,{color:"transparent"},r.a.createElement(d.a,null,r.a.createElement(f.a,{color:"primary",title:"Open",onClick:t},r.a.createElement(ne.a,null)),r.a.createElement(p,{variant:"h6",color:"inherit"}),r.a.createElement(ie,{answers:n,guesses:o}),r.a.createElement(Z.a,{bgcolor:"rgba(255,255,255,0.5)",color:"primary.main",fontSize:"h6.fontSize",borderRadius:"borderRadius",px:.5},r.a.createElement(ee.a,{badgeContent:l?"+1":0,color:"primary"},o.length,"/",n.length)))),r.a.createElement(d.a,null))}function le(e){var t=e.children,n=Object(L.a)(e,["children"]);return r.a.createElement(g.a,null,r.a.createElement(Z.a,Object.assign({pt:1},n),t))}var ue=Object(a.createRef)(),se=function(){var e=Object(a.useState)({x:.5,y:.5}),t=Object(R.a)(e,2),n=t[0],o=t[1],i=Object(a.useState)({x:0,y:0}),c=Object(R.a)(i,2),l=c[0],u=c[1],s=Object(a.useState)(null),m=Object(R.a)(s,2),d=m[0],f=m[1],g=function(e){u(n);var t=e.touches&&e.touches.length?e.touches[0]:e;f({x:t.clientX,y:t.clientY})},E=function(e){if(d){var t=e.touches&&e.touches.length?e.touches[0]:e;o({x:Math.min(1,Math.max(0,l.x-(t.clientX-d.x)/ue.current.clientWidth)),y:Math.min(1,Math.max(0,l.y-(t.clientY-d.y)/ue.current.clientHeight))})}},h=function(){f(null)};return r.a.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,overflow:"hidden",backgroundColor:"#8b6f4f",backgroundImage:"url(https://upload.wikimedia.org/wikipedia/commons/7/7e/Pieter_Brueghel_the_Elder_-_The_Dutch_Proverbs_-_Google_Art_Project.jpg), url(https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Pieter_Brueghel_the_Elder_-_The_Dutch_Proverbs_-_Google_Art_Project.jpg/320px-Pieter_Brueghel_the_Elder_-_The_Dutch_Proverbs_-_Google_Art_Project.jpg)",backgroundPositionX:"".concat(100*n.x,"%"),backgroundPositionY:"".concat(100*n.y,"%"),backgroundRepeat:"no-repeat",backgroundSize:"cover"},onMouseDown:g,onTouchStart:g,onMouseUp:h,onTouchEnd:h,onMouseMove:E,onTouchMove:E,ref:ue})},me=n(207),de=n(202),fe=n(203),ge=n(204),Ee=n(205),he=n(206);function be(e){var t=e.title,n=void 0===t?"":t,a=e.content,o=void 0===a?"":a,i=e.confirm,c=void 0===i?"":i,l=e.cancel,u=void 0===l?"":l,s=e.onConfirm,m=void 0===s?function(){}:s,d=e.onCancel,f=void 0===d?function(){}:d,g=e.ConfirmButtonProps,E=void 0===g?{}:g,h=e.CancelButtonProps,b=void 0===h?{}:h,v=Object(L.a)(e,["title","content","confirm","cancel","onConfirm","onCancel","ConfirmButtonProps","CancelButtonProps"]);return r.a.createElement(de.a,v,!!n&&r.a.createElement(fe.a,null,n),!!o&&r.a.createElement(ge.a,null,"object"===typeof o&&o.map?o.map((function(e,t){return r.a.createElement(Ee.a,{key:t},e)})):r.a.createElement(Ee.a,null,o)),(!!c||!!u)&&r.a.createElement(he.a,null,!!c&&r.a.createElement(me.a,Object.assign({color:"primary",variant:"contained",title:"Confirm",onClick:m},E),c),!!u&&r.a.createElement(me.a,Object.assign({color:"secondary",title:"Cancel",onClick:f},b),u)))}var ve=localStorage;function pe(e){return"set-".concat(e)}function Oe(e){e.onSubmit,e.answers;var t=Object(a.useState)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return t(ve.getItem(pe(e)))}("intro",(function(e){return"false"!==e}))),n=Object(R.a)(t,2),o=n[0],i=n[1];return Object(a.useEffect)((function(){var e,t;o||(e="intro",t=!1,ve.setItem(pe(e),t))}),[o]),r.a.createElement(be,{open:o,onClose:function(){return i(!1)},title:"",confirm:"Iniziamo",onConfirm:function(){return i(!1)},content:[r.a.createElement(a.Fragment,null,r.a.createElement(Z.a,{component:"span",fontWeight:"fontWeightBold"},"Pieter Bruegel")," ","\xe8 stato un pittore olandese. \xc8 generalmente indicato come il Vecchio per distinguerlo dal figlio primogenito, Pieter Bruegel il Giovane. Anche il secondogenito Jan Bruegel il Vecchio segu\xec le orme paterne e cos\xec pure il nipote Jan Bruegel il Giovane."," ",r.a.createElement(me.a,{size:"small",href:"https://it.wikipedia.org/wiki/Pieter_Bruegel_il_Vecchio",target:"_blank"},"Leggi l'articolo su Wikipedia")),r.a.createElement(a.Fragment,null,"I"," ",r.a.createElement(Z.a,{component:"span",fontWeight:"fontWeightBold"},"Proverbi fiamminghi")," ",'\xe8 un dipinto a olio su tavola (117x163 cm) di Pieter Bruegel il Vecchio, datato 1559 e conservato nella Gem\xe4ldegalerie di Berlino. \xc8 firmato in basso a destra "BRVEGEL 1559".'," ",r.a.createElement(me.a,{size:"small",href:"https://it.wikipedia.org/wiki/Proverbi_fiamminghi",target:"_blank"},"Leggi l'articolo su Wikipedia")),r.a.createElement(a.Fragment,null,"Lo scopo di questo gioco \xe8 di trovare i proverbi nascosti in questo dipinto. Sono risposte valide sia la traduzione in italiano del proverbio originale, sia la versione italiana.")]})}var je=n(14),ke=n(208),we=n(218),ye=Object(J.a)((function(e){return{Input:{backgroundColor:"rgba(255, 255, 255, 0.5)",transition:"background-color 0.25s ease"},InputFocused:{backgroundColor:"rgba(255, 255, 255, 1)"}}}));function Se(e){var t=e.onSubmit,n=void 0===t?function(){}:t,o=(e.answers,Object(a.useState)("")),i=Object(R.a)(o,2),c=i[0],l=i[1],u=ye(),s=Object(je.a)(),m=function(){n(c),l("")};return r.a.createElement(Z.a,{position:"fixed",bottom:s.spacing(1),left:0,right:0,px:1,mx:"auto"},r.a.createElement(ke.a,{container:!0,justify:"center"},r.a.createElement(ke.a,{item:!0,xs:12,sm:9,md:6,lg:4,xl:3},r.a.createElement(we.a,{fullWidth:!0,label:"Proverbio",variant:"outlined",value:c,onChange:function(e){var t=e.target.value;return l(t)},onKeyPress:function(e){"Enter"===e.key&&m()},InputProps:{classes:{root:u.Input,focused:u.InputFocused}}}))))}function _e(e){var t=e.onSubmit,n=void 0===t?function(){}:t,a=e.answers;return r.a.createElement(le,null,r.a.createElement(se,null),r.a.createElement(Oe,null),r.a.createElement(Se,{onSubmit:n,answers:a}))}var Ce=n(220),xe=n(209),Pe=n(210),Be=n(211),Ie=n(212),Te=n(213),Fe=n(118),Me=n.n(Fe),ze=n(75),We=n.n(ze);function Ge(e){var t=e.open,n=e.onClose,a=e.onOpen,o=e.answers,i=e.guesses,c=e.onReset,l=Object(z.g)().push;return r.a.createElement(Ce.a,{open:t,onClose:n,onOpen:a},r.a.createElement(xe.a,null,r.a.createElement(Pe.a,{button:!0,onClick:function(){return l("/proverbs")}},r.a.createElement(Be.a,null,r.a.createElement(We.a,null)),r.a.createElement(Ie.a,{primary:"".concat(i.length,"/").concat(o.length),secondary:"Risposte"}),r.a.createElement(Te.a,null,r.a.createElement(f.a,{edge:"end",title:"Cancella progressi",onClick:c},r.a.createElement(Me.a,null)))),r.a.createElement(Pe.a,null,r.a.createElement(Be.a,null,r.a.createElement("span",null,"B")),r.a.createElement(Ie.a,{primary:"Bruegel",secondary:"v1.1.0"}))))}var Re=localStorage;function De(){try{return JSON.parse(Re.getItem("guesses"))||[]}catch(e){return console.error(e),[]}}function Je(e){Re.setItem("guesses",JSON.stringify(e))}var Ne=sessionStorage;function Ve(){var e=Ne.getItem("answers");if(null===e)return fetch([window.location.origin,window.location.pathname.split("/")[1],"","answers.json"].join("/")).then((function(e){return e.json()})).then((function(e){return Ne.setItem("answers",JSON.stringify(e)),e}));try{return Promise.resolve(JSON.parse(e))}catch(t){return Promise.reject(t)}}var Ae={anchorOrigin:{horizontal:"center",vertical:"top"},autoHideDuration:2e3};function Le(){var e=Object(a.useState)(!1),t=Object(R.a)(e,2),n=t[0],o=t[1],i=Object(a.useState)([]),c=Object(R.a)(i,2),l=c[0],u=c[1],s=Object(a.useState)([]),m=Object(R.a)(s,2),d=m[0],f=m[1],g=Object(P.useSnackbar)().enqueueSnackbar;Object(a.useEffect)((function(){Ve().then((function(e){return u(e)})).catch((function(e){console.error(e),g(e.message,{variant:"error"})}))}),[g]),Object(a.useEffect)((function(){f(De())}),[]),Object(a.useEffect)((function(){Je(d)}),[d,d.length]);return r.a.createElement(Q,{header:r.a.createElement(ce,{onOpen:function(){return o(!0)},answers:l,guesses:d}),content:r.a.createElement(_e,{answers:l,guesses:d,onSubmit:function(e){var t=Object(D.deburr)(e).toLowerCase().replace(/[^\w]+/g," ").replace(/\s\s+/g," ").split(" "),n=l.findIndex((function(e){return-1!==e.match.findIndex((function(e){return e.map((function(e){return t.indexOf(e)})).every((function(e,t,n){return t>0?e>n[t-1]:-1!==n[t]}))}))}));-1!==n?d.includes(l[n].id)?(g("Gi\xe0 trovato",Object(G.a)({variant:"info"},Ae)),console.log(l[n].id,d)):(g("Corretto!",Object(G.a)({variant:"success"},Ae)),f([].concat(Object(W.a)(d),[l[n].id]))):g("Sbagliato",Object(G.a)({variant:"error"},Ae))}}),drawer:r.a.createElement(Ge,{open:n,onClose:function(){return o(!1)},onOpen:function(){return o(!0)},answers:l,guesses:d,onReset:function(){f([]),g("Tutti i progressi sono stati cancellati",Object(G.a)({variant:"info"},Ae))}})})}var qe=n(119),He=n.n(qe),Xe=n(120),Ye=n.n(Xe),Ke=n(121),Ue=n.n(Ke);function $e(e){var t=e.answers,n=e.loading,o=e.visible,i=void 0!==o&&o,c=e.onVisibileToggle,l=void 0===c?function(){}:c,u=Object(z.g)().goBack;return r.a.createElement(a.Fragment,null,r.a.createElement(m.a,null,r.a.createElement(d.a,null,r.a.createElement(f.a,{color:"inherit",title:"Go Back",onClick:function(){return u()}},r.a.createElement(He.a,null)),r.a.createElement(p,{variant:"h6",color:"inherit"},n?"\u2026":t.length," Proverbi"),r.a.createElement(f.a,{color:"inherit",title:i?"Nascondi":"Mostra",onClick:l},i?r.a.createElement(Ye.a,null):r.a.createElement(Ue.a,null)))),r.a.createElement(d.a,null))}var Qe=n(214),Ze=n(215),et=n(216),tt=n(61),nt=n(217),at=n(122),rt=n.n(at),ot=n(88),it=n.n(ot),ct=n(123),lt=n.n(ct);function ut(e){var t=e.answers,n=e.guesses,o=e.loading,i=e.visible,c=void 0!==i&&i,l=Object(a.useState)(10),u=Object(R.a)(l,2),s=u[0],m=u[1];return Object(a.useEffect)((function(){if(s<t.length){var e=setTimeout(m,50,Math.min(t.length,s+10));return function(){return clearTimeout(e)}}}),[s,t.length]),r.a.createElement(le,null,r.a.createElement(E.a,{gutterBottom:!0},"Tutti i testi sono tratti dalla pagina Wikipedia sul dipinto:"," ",r.a.createElement("a",{href:"https://it.wikipedia.org/wiki/Proverbi_fiamminghi",title:"Apri Wikipedia",target:"_blank",rel:"noopener noreferrer"},"Proverbi Fiamminghi (Pieter Bruegel il Vecchio)")),r.a.createElement(ke.a,{container:!0,alignItems:"center",justify:"space-evenly",spacing:1},o&&Array(20).fill(!0).map((function(e,t){return r.a.createElement(mt,{key:t})})),t.slice(0,s).map((function(e){var t=n.includes(e.id);return r.a.createElement(st,{key:e.id,answer:e,guessed:t,visible:c||t})}))))}var st=function(e){var t=e.answer,n=t.id,o=t.proverb,i=t.meaning,c=t.italian,l=e.guessed,u=e.visible,s=Object(a.useState)(!1),m=Object(R.a)(s,2),d=m[0],g=m[1];return r.a.createElement(ke.a,{item:!0,xs:12,sm:9,md:6},r.a.createElement(Qe.a,{variant:"outlined"},r.a.createElement(Ze.a,{action:!l&&!!i&&r.a.createElement(f.a,{title:"Ottieni un suggerimento",color:"inherit",onClick:function(){return g(!d)}},r.a.createElement(it.a,null)),avatar:l?r.a.createElement(We.a,{color:"primary"}):r.a.createElement(rt.a,{style:{color:lt.a[500]}}),title:"#".concat(n)}),r.a.createElement(et.a,null,r.a.createElement(tt.a,{in:u},r.a.createElement(E.a,{variant:"h6"},o),r.a.createElement(E.a,{color:"textSecondary"},c)),r.a.createElement(tt.a,{in:d||l},r.a.createElement(xe.a,null,r.a.createElement(Pe.a,null,r.a.createElement(Be.a,null,r.a.createElement(it.a,null)),r.a.createElement(Ie.a,{primary:i}))))))," ")},mt=function(){return r.a.createElement(ke.a,{item:!0,xs:12,sm:9,md:6},r.a.createElement(Qe.a,{variant:"outlined"},r.a.createElement(Ze.a,{avatar:r.a.createElement(nt.a,{variant:"circle",width:24,height:24}),title:r.a.createElement(nt.a,{variant:"text"})}),r.a.createElement(et.a,null,r.a.createElement(E.a,{variant:"h6"},r.a.createElement(nt.a,{variant:"text"})),r.a.createElement(E.a,{color:"textSecondary"},r.a.createElement(nt.a,{variant:"text"})),r.a.createElement(xe.a,null,r.a.createElement(Pe.a,null,r.a.createElement(Be.a,null,r.a.createElement(nt.a,{variant:"circle",width:24,height:24})),r.a.createElement(Ie.a,{primary:r.a.createElement(nt.a,{variant:"text"})}))))))};function dt(){var e=Object(a.useState)([]),t=Object(R.a)(e,2),n=t[0],o=t[1],i=Object(a.useState)([]),c=Object(R.a)(i,2),l=c[0],u=c[1],s=Object(a.useState)(!1),m=Object(R.a)(s,2),d=m[0],f=m[1],g=Object(a.useState)(!0),E=Object(R.a)(g,2),h=E[0],b=E[1],v=Object(P.useSnackbar)().enqueueSnackbar;Object(a.useEffect)((function(){Ve().then((function(e){return o(e)})).catch((function(e){console.error(e),v(e.message,{variant:"error"})})).then((function(){return b(!1)}))}),[v]),Object(a.useEffect)((function(){u(De())}),[]);return r.a.createElement(Q,{header:r.a.createElement($e,{answers:n,guesses:l,loading:h,visible:d,onVisibileToggle:function(){return f(!d)}}),content:r.a.createElement(ut,{answers:n,guesses:l,loading:h,visible:d})})}var ft=[{path:"/home",component:function(){return r.a.createElement(z.d,null,r.a.createElement(z.b,{path:"/home",component:Le}))}},{path:"/proverbs",component:function(){return r.a.createElement(z.d,null,r.a.createElement(z.b,{path:"/proverbs",component:dt}))}}],gt=function(e){return r.a.createElement(M.a,null,r.a.createElement(z.d,null,ft.map((function(e,t){return r.a.createElement(z.b,Object.assign({key:t},e))})),r.a.createElement(z.a,{to:"/home"})))};function Et(){return r.a.createElement(x,null,r.a.createElement(O,null,r.a.createElement(F,null,r.a.createElement(gt,null))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Et,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[139,1,2]]]);
//# sourceMappingURL=main.eb909166.chunk.js.map