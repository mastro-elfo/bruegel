(this.webpackJsonpbruegel=this.webpackJsonpbruegel||[]).push([[0],{139:function(e,t,n){e.exports=n(161)},144:function(e,t,n){},161:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(9),c=n.n(o),i=(n(144),n(101)),l=n(102),u=n(124),s=n(126),m=n(193),f=n(194),d=n(195),E=n(196),g=n(32),b=n(106),v=n.n(b),h=n(63),p=Object(h.a)(g.a)({flexGrow:1}),O=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={},a}return Object(l.a)(n,[{key:"componentDidCatch",value:function(e,t){console.error("Console Error",e,t,this.props)}},{key:"render",value:function(){var e=this.state.error;return e?r.a.createElement(a.Fragment,null,r.a.createElement(m.a,null,r.a.createElement(f.a,null,r.a.createElement(p,{variant:"h6"},"An error occurred"),r.a.createElement(d.a,{color:"inherit",title:"Refresh",onClick:window.location.reload},r.a.createElement(v.a,null)))),r.a.createElement(f.a,null),r.a.createElement(E.a,null,r.a.createElement(g.a,{variant:"h3",gutterBottom:!0},e.message),r.a.createElement(g.a,{component:"ul"},e.stack.split("\n").map((function(e,t){return r.a.createElement(g.a,{key:t,component:"li",variant:"body2",gutterBottom:!0},e)}))))):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),n}(a.Component),j=n(43),k=n(197),y=n(107),w=n.n(y),S=n(108),C=n.n(S),x=Object(j.a)({palette:{primary:w.a,secondary:C.a}});function B(e){var t=e.children;return r.a.createElement(k.a,{theme:x},t)}var P=n(44),I=n(111),F=n.n(I),M=Object(a.createRef)(),T=function(e){var t=e.children,n=function(e){return function(){return M.current.closeSnackbar(e)}};return r.a.createElement(P.SnackbarProvider,{ref:M,maxSnack:5,anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:5e3,action:function(e){return r.a.createElement(d.a,{color:"inherit",title:"Dismiss",onClick:n(e)},r.a.createElement(F.a,null))}},t)},z=n(42),W=n(38),R=n(125),J=n(55),N=n(12),V=n(112),_=n(97),G=Object(_.a)({print:{"@media screen":{display:"none"}},noPrint:{"@media print":{display:"none"}}});function D(e){var t=e.children,n=G();return r.a.createElement("div",{className:n.print},t)}function L(e){var t=e.children,n=G();return r.a.createElement("div",{className:n.noPrint},t)}var q=n(47),A=n(198),H=n(110),X=n(199),Y=n(113),K=n.n(Y),U=Object(_.a)((function(e){return{Fab:{position:"fixed",bottom:e.spacing(1),right:e.spacing(1),zIndex:e.zIndex.modal}}}));function $(e){var t=e.threshold,n=void 0===t?100:t,a=Object(q.a)(e,["threshold"]),o=U(),c=Object(A.a)({disableHysteresis:!0,threshold:n});return r.a.createElement(H.a,{in:c},r.a.createElement(X.a,Object.assign({color:"secondary",size:"small",onClick:function(e){window.scrollTo({top:0,left:0,behavior:"smooth"})},className:o.Fab,title:"Move to Top"},a),r.a.createElement(K.a,null)))}function Q(e){var t=e.content,n=void 0===t?null:t,o=e.drawer,c=void 0===o?null:o,i=e.header,l=void 0===i?null:i,u=e.print,s=void 0===u?null:u,m=e.topFab,f=void 0===m||m;return r.a.createElement(a.Fragment,null,r.a.createElement(L,null,f&&r.a.createElement($,null),!!c&&c,!!l&&l,!!n&&n),r.a.createElement(D,null,!!s&&s))}var Z=n(219),ee=n(201),te=n(116),ne=n.n(te),ae=n(221),re=n(115),oe=n.n(re);function ce(e){var t=e.answers,n=e.guesses,o=Object(a.useState)(!1),c=Object(N.a)(o,2),i=c[0],l=c[1],u=t.filter((function(e){var t=e.id;return!n.includes(t)}));return Object(a.useEffect)((function(){(n.includes(i)||!i&&u.length>0)&&l(u[Math.floor(Math.random()*u.length)].meaning)}),[n,i,u]),r.a.createElement(ae.a,{arrow:!0,title:r.a.createElement(a.Fragment,null,r.a.createElement(g.a,null,"Ti do un suggerimento: "),r.a.createElement(g.a,{variant:"body2"},'"',i,'"'))},r.a.createElement(d.a,{color:"primary"},r.a.createElement(oe.a,null)))}function ie(e){var t=e.onOpen,n=e.answers,o=e.guesses,c=Object(a.useState)(!1),i=Object(N.a)(c,2),l=i[0],u=i[1];return Object(a.useEffect)((function(){if(o.length>0){u(!0);var e=setTimeout(u,2e3,!1);return function(){return clearTimeout(e)}}}),[o.length]),r.a.createElement(a.Fragment,null,r.a.createElement(m.a,{color:"transparent"},r.a.createElement(f.a,null,r.a.createElement(d.a,{color:"primary",title:"Open",onClick:t},r.a.createElement(ne.a,null)),r.a.createElement(p,{variant:"h6",color:"inherit"}),r.a.createElement(ce,{answers:n,guesses:o}),r.a.createElement(Z.a,{bgcolor:"rgba(255,255,255,0.5)",color:"primary.main",fontSize:"h6.fontSize",borderRadius:"borderRadius",px:.5},r.a.createElement(ee.a,{badgeContent:l?"+1":0,color:"primary"},o.length,"/",n.length)))),r.a.createElement(f.a,null))}function le(e){var t=e.children,n=Object(q.a)(e,["children"]);return r.a.createElement(E.a,null,r.a.createElement(Z.a,Object.assign({pt:1},n),t))}var ue=Object(a.createRef)(),se=function(){var e=Object(a.useState)({x:.5,y:.5}),t=Object(N.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)({x:0,y:0}),i=Object(N.a)(c,2),l=i[0],u=i[1],s=Object(a.useState)(null),m=Object(N.a)(s,2),f=m[0],d=m[1],E=function(e){u(n);var t=e.touches&&e.touches.length?e.touches[0]:e;d({x:t.clientX,y:t.clientY})},g=function(e){if(f){var t=e.touches&&e.touches.length?e.touches[0]:e;o({x:Math.min(1,Math.max(0,l.x-(t.clientX-f.x)/ue.current.clientWidth)),y:Math.min(1,Math.max(0,l.y-(t.clientY-f.y)/ue.current.clientHeight))})}},b=function(){d(null)};return r.a.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,overflow:"hidden",backgroundColor:"#8b6f4f",backgroundImage:"url(Image.jpg), url(Image250.jpg)",backgroundPositionX:"".concat(100*n.x,"%"),backgroundPositionY:"".concat(100*n.y,"%"),backgroundRepeat:"no-repeat",backgroundSize:"cover"},onMouseDown:E,onTouchStart:E,onMouseUp:b,onTouchEnd:b,onMouseMove:g,onTouchMove:g,ref:ue})},me=n(207),fe=n(202),de=n(203),Ee=n(204),ge=n(205),be=n(206);function ve(e){var t=e.title,n=void 0===t?"":t,a=e.content,o=void 0===a?"":a,c=e.confirm,i=void 0===c?"":c,l=e.cancel,u=void 0===l?"":l,s=e.onConfirm,m=void 0===s?function(){}:s,f=e.onCancel,d=void 0===f?function(){}:f,E=e.ConfirmButtonProps,g=void 0===E?{}:E,b=e.CancelButtonProps,v=void 0===b?{}:b,h=Object(q.a)(e,["title","content","confirm","cancel","onConfirm","onCancel","ConfirmButtonProps","CancelButtonProps"]);return r.a.createElement(fe.a,h,!!n&&r.a.createElement(de.a,null,n),!!o&&r.a.createElement(Ee.a,null,"object"===typeof o&&o.map?o.map((function(e,t){return r.a.createElement(ge.a,{key:t},e)})):r.a.createElement(ge.a,null,o)),(!!i||!!u)&&r.a.createElement(be.a,null,!!i&&r.a.createElement(me.a,Object.assign({color:"primary",variant:"contained",title:"Confirm",onClick:m},g),i),!!u&&r.a.createElement(me.a,Object.assign({color:"secondary",title:"Cancel",onClick:d},v),u)))}var he=localStorage;function pe(e){return"set-".concat(e)}function Oe(e){e.onSubmit,e.answers;var t=Object(a.useState)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return t(he.getItem(pe(e)))}("intro",(function(e){return"false"!==e}))),n=Object(N.a)(t,2),o=n[0],c=n[1];return Object(a.useEffect)((function(){var e,t;o||(e="intro",t=!1,he.setItem(pe(e),t))}),[o]),r.a.createElement(ve,{open:o,onClose:function(){return c(!1)},title:"",confirm:"Iniziamo",onConfirm:function(){return c(!1)},content:[r.a.createElement(a.Fragment,null,r.a.createElement(Z.a,{component:"span",fontWeight:"fontWeightBold"},"Pieter Bruegel")," ","\xe8 stato un pittore olandese. \xc8 generalmente indicato come il Vecchio per distinguerlo dal figlio primogenito, Pieter Bruegel il Giovane. Anche il secondogenito Jan Bruegel il Vecchio segu\xec le orme paterne e cos\xec pure il nipote Jan Bruegel il Giovane."," ",r.a.createElement(me.a,{size:"small",href:"https://it.wikipedia.org/wiki/Pieter_Bruegel_il_Vecchio",target:"_blank"},"Leggi l'articolo su Wikipedia")),r.a.createElement(a.Fragment,null,"I"," ",r.a.createElement(Z.a,{component:"span",fontWeight:"fontWeightBold"},"Proverbi fiamminghi")," ",'\xe8 un dipinto a olio su tavola (117x163 cm) di Pieter Bruegel il Vecchio, datato 1559 e conservato nella Gem\xe4ldegalerie di Berlino. \xc8 firmato in basso a destra "BRVEGEL 1559".'," ",r.a.createElement(me.a,{size:"small",href:"https://it.wikipedia.org/wiki/Proverbi_fiamminghi",target:"_blank"},"Leggi l'articolo su Wikipedia")),r.a.createElement(a.Fragment,null,"Lo scopo di questo gioco \xe8 di trovare i proverbi nascosti in questo dipinto. Sono risposte valide sia la traduzione in italiano del proverbio originale, sia la versione italiana.")]})}var je=n(14),ke=n(208),ye=n(218),we=Object(_.a)((function(e){return{Input:{backgroundColor:"rgba(255, 255, 255, 0.5)",transition:"background-color 0.25s ease"},InputFocused:{backgroundColor:"rgba(255, 255, 255, 1)"}}}));function Se(e){var t=e.onSubmit,n=void 0===t?function(){}:t,o=(e.answers,Object(a.useState)("")),c=Object(N.a)(o,2),i=c[0],l=c[1],u=we(),s=Object(je.a)(),m=function(){n(i),l("")};return r.a.createElement(Z.a,{position:"fixed",bottom:s.spacing(1),left:0,right:0,px:1,mx:"auto"},r.a.createElement(ke.a,{container:!0,justify:"center"},r.a.createElement(ke.a,{item:!0,xs:12,sm:9,md:6,lg:4,xl:3},r.a.createElement(ye.a,{fullWidth:!0,label:"Proverbio",variant:"outlined",value:i,onChange:function(e){var t=e.target.value;return l(t)},onKeyPress:function(e){"Enter"===e.key&&m()},InputProps:{classes:{root:u.Input,focused:u.InputFocused}}}))))}function Ce(e){var t=e.onSubmit,n=void 0===t?function(){}:t,a=e.answers;return r.a.createElement(le,null,r.a.createElement(se,null),r.a.createElement(Oe,null),r.a.createElement(Se,{onSubmit:n,answers:a}))}var xe=n(220),Be=n(209),Pe=n(210),Ie=n(211),Fe=n(212),Me=n(213),Te=n(118),ze=n.n(Te),We=n(75),Re=n.n(We);function Je(e){var t=e.open,n=e.onClose,a=e.onOpen,o=e.answers,c=e.guesses,i=e.onReset,l=Object(W.g)().push;return r.a.createElement(xe.a,{open:t,onClose:n,onOpen:a},r.a.createElement(Be.a,null,r.a.createElement(Pe.a,{button:!0,onClick:function(){return l("/proverbs")}},r.a.createElement(Ie.a,null,r.a.createElement(Re.a,null)),r.a.createElement(Fe.a,{primary:"".concat(c.length,"/").concat(o.length),secondary:"Risposte"}),r.a.createElement(Me.a,null,r.a.createElement(d.a,{edge:"end",title:"Cancella progressi",onClick:i},r.a.createElement(ze.a,null)))),r.a.createElement(Pe.a,null,r.a.createElement(Ie.a,null,r.a.createElement("span",null,"B")),r.a.createElement(Fe.a,{primary:"Bruegel",secondary:"v1.0.0"}))))}var Ne=localStorage;function Ve(){try{return JSON.parse(Ne.getItem("guesses"))||[]}catch(e){return console.error(e),[]}}function _e(e){Ne.setItem("guesses",JSON.stringify(e))}var Ge=sessionStorage;function De(){var e=Ge.getItem("answers");if(null===e)return fetch("answers.json").then((function(e){return e.json()})).then((function(e){return Ge.setItem("answers",JSON.stringify(e)),e}));try{return Promise.resolve(JSON.parse(e))}catch(t){return Promise.reject(t)}}var Le={anchorOrigin:{horizontal:"center",vertical:"top"},autoHideDuration:2e3};function qe(){var e=Object(a.useState)(!1),t=Object(N.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)([]),i=Object(N.a)(c,2),l=i[0],u=i[1],s=Object(a.useState)([]),m=Object(N.a)(s,2),f=m[0],d=m[1],E=Object(P.useSnackbar)().enqueueSnackbar;Object(a.useEffect)((function(){De().then((function(e){return u(e)})).catch((function(e){console.error(e),E(e.message,{variant:"error"})}))}),[E]),Object(a.useEffect)((function(){d(Ve())}),[]),Object(a.useEffect)((function(){_e(f)}),[f,f.length]);return r.a.createElement(Q,{header:r.a.createElement(ie,{onOpen:function(){return o(!0)},answers:l,guesses:f}),content:r.a.createElement(Ce,{answers:l,guesses:f,onSubmit:function(e){var t=Object(V.deburr)(e).toLowerCase().replace(/[^\w]+/g," ").replace(/\s\s+/g," ").split(" "),n=l.findIndex((function(e){return-1!==e.match.findIndex((function(e){return e.map((function(e){return t.indexOf(e)})).every((function(e,t,n){return t>0?e>n[t-1]:-1!==n[t]}))}))}));-1!==n?f.includes(l[n].id)?(E("Gi\xe0 trovato",Object(J.a)({variant:"info"},Le)),console.log(l[n].id,f)):(E("Corretto!",Object(J.a)({variant:"success"},Le)),d([].concat(Object(R.a)(f),[l[n].id]))):E("Sbagliato",Object(J.a)({variant:"error"},Le))}}),drawer:r.a.createElement(Je,{open:n,onClose:function(){return o(!1)},onOpen:function(){return o(!0)},answers:l,guesses:f,onReset:function(){d([]),E("Tutti i progressi sono stati cancellati",Object(J.a)({variant:"info"},Le))}})})}var Ae=n(119),He=n.n(Ae),Xe=n(120),Ye=n.n(Xe),Ke=n(121),Ue=n.n(Ke);function $e(e){var t=e.answers,n=e.loading,o=e.visible,c=void 0!==o&&o,i=e.onVisibileToggle,l=void 0===i?function(){}:i,u=Object(W.g)().goBack;return r.a.createElement(a.Fragment,null,r.a.createElement(m.a,null,r.a.createElement(f.a,null,r.a.createElement(d.a,{color:"inherit",title:"Go Back",onClick:function(){return u()}},r.a.createElement(He.a,null)),r.a.createElement(p,{variant:"h6",color:"inherit"},n?"\u2026":t.length," Proverbi"),r.a.createElement(d.a,{color:"inherit",title:c?"Nascondi":"Mostra",onClick:l},c?r.a.createElement(Ye.a,null):r.a.createElement(Ue.a,null)))),r.a.createElement(f.a,null))}var Qe=n(214),Ze=n(215),et=n(216),tt=n(61),nt=n(217),at=n(122),rt=n.n(at),ot=n(88),ct=n.n(ot),it=n(123),lt=n.n(it);function ut(e){var t=e.answers,n=e.guesses,o=e.loading,c=e.visible,i=void 0!==c&&c,l=Object(a.useState)(10),u=Object(N.a)(l,2),s=u[0],m=u[1];return Object(a.useEffect)((function(){if(s<t.length){var e=setTimeout(m,50,Math.min(t.length,s+10));return function(){return clearTimeout(e)}}}),[s,t.length]),r.a.createElement(le,null,r.a.createElement(g.a,{gutterBottom:!0},"Tutti i testi sono tratti dalla pagina Wikipedia sul dipinto:"," ",r.a.createElement("a",{href:"https://it.wikipedia.org/wiki/Proverbi_fiamminghi",title:"Apri Wikipedia",target:"_blank",rel:"noopener noreferrer"},"Proverbi Fiamminghi (Pieter Bruegel il Vecchio)")),r.a.createElement(ke.a,{container:!0,alignItems:"center",justify:"space-evenly",spacing:1},o&&Array(20).fill(!0).map((function(e,t){return r.a.createElement(mt,{key:t})})),t.slice(0,s).map((function(e){var t=n.includes(e.id);return r.a.createElement(st,{key:e.id,answer:e,guessed:t,visible:i||t})}))))}var st=function(e){var t=e.answer,n=t.id,o=t.proverb,c=t.meaning,i=t.italian,l=e.guessed,u=e.visible,s=Object(a.useState)(!1),m=Object(N.a)(s,2),f=m[0],E=m[1];return r.a.createElement(ke.a,{item:!0,xs:12,sm:9,md:6},r.a.createElement(Qe.a,{variant:"outlined"},r.a.createElement(Ze.a,{action:!l&&!!c&&r.a.createElement(d.a,{title:"Ottieni un suggerimento",color:"inherit",onClick:function(){return E(!f)}},r.a.createElement(ct.a,null)),avatar:l?r.a.createElement(Re.a,{color:"primary"}):r.a.createElement(rt.a,{style:{color:lt.a[500]}}),title:"#".concat(n)}),r.a.createElement(et.a,null,r.a.createElement(tt.a,{in:u},r.a.createElement(g.a,{variant:"h6"},o),r.a.createElement(g.a,{color:"textSecondary"},i)),r.a.createElement(tt.a,{in:f||l},r.a.createElement(Be.a,null,r.a.createElement(Pe.a,null,r.a.createElement(Ie.a,null,r.a.createElement(ct.a,null)),r.a.createElement(Fe.a,{primary:c}))))))," ")},mt=function(){return r.a.createElement(ke.a,{item:!0,xs:12,sm:9,md:6},r.a.createElement(Qe.a,{variant:"outlined"},r.a.createElement(Ze.a,{avatar:r.a.createElement(nt.a,{variant:"circle",width:24,height:24}),title:r.a.createElement(nt.a,{variant:"text"})}),r.a.createElement(et.a,null,r.a.createElement(g.a,{variant:"h6"},r.a.createElement(nt.a,{variant:"text"})),r.a.createElement(g.a,{color:"textSecondary"},r.a.createElement(nt.a,{variant:"text"})),r.a.createElement(Be.a,null,r.a.createElement(Pe.a,null,r.a.createElement(Ie.a,null,r.a.createElement(nt.a,{variant:"circle",width:24,height:24})),r.a.createElement(Fe.a,{primary:r.a.createElement(nt.a,{variant:"text"})}))))))};function ft(){var e=Object(a.useState)([]),t=Object(N.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)([]),i=Object(N.a)(c,2),l=i[0],u=i[1],s=Object(a.useState)(!1),m=Object(N.a)(s,2),f=m[0],d=m[1],E=Object(a.useState)(!0),g=Object(N.a)(E,2),b=g[0],v=g[1],h=Object(P.useSnackbar)().enqueueSnackbar;Object(a.useEffect)((function(){De().then((function(e){return o(e)})).catch((function(e){console.error(e),h(e.message,{variant:"error"})})).then((function(){return v(!1)}))}),[h]),Object(a.useEffect)((function(){u(Ve())}),[]);return r.a.createElement(Q,{header:r.a.createElement($e,{answers:n,guesses:l,loading:b,visible:f,onVisibileToggle:function(){return d(!f)}}),content:r.a.createElement(ut,{answers:n,guesses:l,loading:b,visible:f})})}var dt=[{path:"/home",component:function(){return r.a.createElement(W.d,null,r.a.createElement(W.b,{path:"/home",component:qe}))}},{path:"/proverbs",component:function(){return r.a.createElement(W.d,null,r.a.createElement(W.b,{path:"/proverbs",component:ft}))}}],Et=function(e){return r.a.createElement(z.a,{basename:"/bruegel"},r.a.createElement(W.d,null,dt.map((function(e,t){return r.a.createElement(W.b,Object.assign({key:t},e))})),r.a.createElement(W.a,{to:"/home"})))};function gt(){return r.a.createElement(B,null,r.a.createElement(O,null,r.a.createElement(T,null,r.a.createElement(Et,null))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(gt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[139,1,2]]]);
//# sourceMappingURL=main.c4e9d872.chunk.js.map